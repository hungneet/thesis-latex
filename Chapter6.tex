\chapter{SYSTEM TESTING}

With the completion of system implementation, our focus now shifts towards ensuring the robustness and functionality of the system through testing. This section presents the systematic approach taken for system testing, including end-to-end testing and API testing, to validate the functionality and performance of the implemented system

\section{API testing}
This section delves into testing the website's API for functionality using 
Postman. Postman's versatile features were utilized to conduct thorough 
assessments of the API endpoints, ensuring data integrity and performance 
across diverse scenarios. Through rigorous experimentation and analysis, 
Postman facilitated the establishment of a robust validation framework, 
affirming the reliability of the website's API under different conditions.

\subsection{API endpoints}
The website's API endpoints were meticulously tested to ensure their
functionality and performance across various scenarios. The API endpoints
were designed to handle different types of requests, including GET, POST,
PUT, and DELETE, to interact with the database and retrieve or modify
data. By testing these endpoints, we could verify the accuracy and
reliability of the API, ensuring that it could handle different types of
requests and return the expected results.

\subsection{Automation API Testing with Postman}
Postman was used to test the website's API endpoints, leveraging its
versatile features to conduct comprehensive assessments. Postman's
user-friendly interface and powerful testing capabilities enabled us to
create test cases, execute requests, and analyze responses efficiently.
By defining test scripts and assertions, we could validate the API
endpoints' functionality and performance, ensuring that they met the
specified requirements.
In this section, we focus on the response data, status code, and response
time of the API endpoints, evaluating their accuracy and reliability.
For status, we have this code on Postman
\begin{lstlisting}[caption=Code to test status code, label={lst:status-code}]
    pm.test("Status code is 200", function () {
        pm.response.to.have.status(200);
    });
\end{lstlisting}
To test the status code, we used the following code in Postman:
\begin{lstlisting}[caption=Code to test response time, label={lst:response-time}]
    pm.test("Response time is less than 200ms", function () {
        pm.expect(pm.response.responseTime).to.be.below(200);
    });
\end{lstlisting}
To test the response data, we used this code in Postman:
\begin{lstlisting}[caption=Code to test response data, label={lst:response-data}]
    pm.test("Response contains errorCode: 10006 and errorMessage: Wrong login type", function () {
    var responseData = pm.response.json();
    pm.expect(responseData).to.eql({ errorCode: 10006, errorMessage: "Wrong login type" });
});
\end{lstlisting}

\subsection{API testing scenarios}
Various testing scenarios were explored to evaluate the website's API
endpoints thoroughly. These scenarios included testing different types of
requests, handling error conditions, and assessing the API's performance
under load. By simulating real-world usage scenarios and edge cases, we
could identify potential issues and validate the API's behavior in
different situations. This comprehensive testing approach helped ensure
the reliability and robustness of the website's API, enhancing its overall
quality and performance. 

Here is all the test cases for the API endpoints. All the API endpoints
here have average response time of 734ms. The test cases are divided into:


\input{Tables/ApiTesting/AdoptionTable.tex}

\input{Tables/ApiTesting/AuthenticationTable.tex}

\input{Tables/ApiTesting/BlogTable.tex}

\input{Tables/ApiTesting/CommentTable.tex}

\input{Tables/ApiTesting/Location.tex}

\input{Tables/ApiTesting/Notification.tex}

\input{Tables/ApiTesting/Payment.tex}

\input{Tables/ApiTesting/PetTable.tex}

\input{Tables/ApiTesting/ReportTable.tex}

\input{Tables/ApiTesting/UserTable.tex}

\section{End-to-End Testing}

End-to-end testing is a software testing method that validates the system as a whole, ensuring that all components work together as expected. This type of testing is essential to ensure that the system meets the requirements and performs as intended. In this section, we present the end-to-end testing process for the implemented system.

\subsection{Automation End-to-End Testing with Cypress}

To automate the end-to-end testing process, we choose Cypress, which is a modern JavaScript-based end-to-end testing framework designed for web applications. It provides a fast, reliable, and easy-to-use testing solution for developers and QA engineers. Cypress comes with a rich set of features such as real-time reloading, automatic waiting, and built-in assertions,  allowing for efficient and effective testing of web applications.

\begin{figure}[H]
    \centering
    \includegraphics[width=0.7\textwidth]{Figures/cypress_script.png}
    \caption{Automation Script}
    \label{fig:cypress-script}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=0.7\textwidth]{Figures/cypress_auto.png}
    \caption{Automation tests done by Cypress}
    \label{fig:cypress-test}
\end{figure}

\subsection{Test Cases}
With Cypress, we tested our system features to make sure the system ran as expected and satisfied requirements. Below are some test cases of the key features and test data for them, these test cases were tested on multiple browser and environments.

\subsubsection*{Test data}

Normal User account:

\quad Email: vejox62251@facais.com - Password: 123456789

Organization User account:

\quad Email:  jayoki3306@facais.com - Password: 123456789

Owned-pet-id: baf3745f-d0d7-40c7-8084-5b55cb2f2ce3

\subsubsection*{Authentication}

\input{Tables/E2E_TestCases/AuthTable1.tex}

\input{Tables/E2E_TestCases/AuthTable2.tex}

\input{Tables/E2E_TestCases/AuthTable3.tex}

\input{Tables/E2E_TestCases/AuthTable4.tex}

\subsubsection*{Filter pet}

\input{Tables/E2E_TestCases/FilterPetTable1.tex}

The same test was done with other options: breed, age, color, sex, size, vaccinated, and spayed; which also yielded the same results. But there is a special case where breeds should be displayed according to the chosen species, so it is a separate case.

\input{Tables/E2E_TestCases/FilterPetTable2.tex}

\subsubsection*{Account Configuration}

\input{Tables/E2E_TestCases/UserConfigTable1.tex}

\input{Tables/E2E_TestCases/UserConfigTable2.tex}

The same test was done with other fields: last name, email, phone number, address; which also yielded the same results.

\subsubsection*{Give away pet}

\input{Tables/E2E_TestCases/GiveAwayPetTable1.tex}

\input{Tables/E2E_TestCases/GiveAwayPetTable2.tex}

\input{ Tables/E2E_TestCases/GiveAwayPetTable3.tex}

\input{Tables/E2E_TestCases/GiveAwayPetTable4.tex}

\subsubsection*{Adopt Pet}

\input{Tables/E2E_TestCases/AdoptPetTable1.tex}

\input{Tables/E2E_TestCases/AdoptPetTable2.tex}

\input{Tables/E2E_TestCases/AdoptPetTable3.tex}

\subsubsection*{Blog}

\input{Tables/E2E_TestCases/BlogTable1.tex}

\input{Tables/E2E_TestCases/BlogTable2.tex}

The same test was done with other categories: art, training, and product; which also yielded the same results.

\input{Tables/E2E_TestCases/BlogTable3.tex}

\input{Tables/E2E_TestCases/BlogTable4.tex}

\section{Responsive testing}
Responsive testing is a crucial aspect of web development, ensuring that
websites are accessible and user-friendly across different devices and
screen sizes. By testing the website's responsiveness, we could verify
that it displayed correctly on various devices, including desktops,
laptops, tablets, and smartphones. This testing process involved
evaluating the website's layout, design, and functionality on different
devices, ensuring a consistent and seamless user experience. By
identifying and addressing any responsiveness issues, we could enhance
the website's usability and accessibility, catering to a broader audience
and improving user satisfaction.

Here is the checklist for responsive testing:
\input{Tables/ResponsiveTesting/ResponsiveTable.tex}

\section{Performance testing}

\section{Load testing}